{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Keep Watching\\\\Keep-Watching\\\\client\\\\src\\\\components\\\\pages\\\\UserPage\\\\UserPage.jsx\";\n\n/* eslint-disable no-unused-vars */\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { IMAGE_BASE_URL, BACKDROP_SIZE, POSTER_SIZE, SEARCH_BASE_URL, POPULAR_BASE_URL } from \"../../../config\"; //   Imporiting all the components\n\nimport Spinner from \"../../components/Spinner/Spinner\";\nimport FeedItem from \"../../components/FeedItem/FeedItem.component\";\nimport { ReactComponent as EggLogo } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../images/egg.svg\";\nimport FollowUnfollowButton from \"../../components/FolllowUnfollowButton/FollowUnfollowButton\";\nimport Grid from \"../../components/Grid/Grid\";\nimport MovieThumb from \"../../components/MovieThubmnail/MovieThumb\";\nimport NoImage from \"../../images/no_image.jpg\";\nimport WatchlistGrid from \"../../components/watchlistGrid/watchlistGrid\";\nimport AddToWatchList from \"../../components/AddToWatchList/AddToWatchList\"; // Importing Context \n\nimport AuthContext from \"../../../context/Authentication/authenticationContext\"; // import AlertContext from \"../../../context/AlertContext/AlertContext\"\n//  Inporting hooks\n\nimport useUserReviewFech from \"../../hooks/useUserReviewsFetch\";\nimport useUserinformationFetch from \"../../hooks/useFetchUserInformation\"; //  Importing styles\n\nimport \"./UserPage.styles.css\";\n\nconst UserPage = props => {\n  const {\n    userID\n  } = useParams();\n  const authContext = useContext(AuthContext);\n  const {\n    isAuthenticated,\n    loadUser,\n    user\n  } = authContext;\n  useEffect(() => {\n    // console.clear()\n    loadUser(); // eslint-disable-next-line\n  }, [isAuthenticated]);\n  const [userReviews, loading, error] = useUserReviewFech(userID);\n  const [currentUser, userLoading, userError] = useUserinformationFetch(userID);\n  const [followers, setFollowers] = useState([]);\n  const [following, setFollowing] = useState([]);\n  useEffect(() => {\n    if (!userLoading) {\n      setFollowers(currentUser.data.followers);\n      setFollowing(currentUser.data.following);\n    }\n  }, [userLoading]);\n  useEffect(() => {\n    console.log(\"Use effect for followers called\");\n  }, [followers]);\n\n  if (isAuthenticated) {\n    if (userLoading) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"user-page-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Spinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }\n      }));\n    } else {\n      // console.clear()\n      // console.log(\"user.followers = <>\", user.following)\n      // console.log(\"currrentuser =<> \", currentUser)\n      // console.log(\"currentuser.followers =<> \", currentUser.data.followers)\n      console.log(\"Followers = \", followers); // console.log(\"following = \", following)\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"user-page-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"user-info\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"displaypic\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(EggLogo, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 29\n        }\n      }), currentUser.data.email != user.email ? /*#__PURE__*/React.createElement(FollowUnfollowButton, {\n        user: user,\n        nextUser: currentUser,\n        setFollowing: setFollowing,\n        setFollowers: setFollowers,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 69\n        }\n      }) : /*#__PURE__*/React.createElement(React.Fragment, null)), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"grid-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"grid-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"first\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 33\n        }\n      }, \"Username\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"second\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 33\n        }\n      }, currentUser.data && currentUser.data.username)), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"grid-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"first\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 33\n        }\n      }, \"Name\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"second\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 33\n        }\n      }, currentUser.data && currentUser.data.fname, \" \", currentUser && currentUser.lname)), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"grid-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"first\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 33\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"second\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 33\n        }\n      }, currentUser.data && currentUser.data.email)), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"grid-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"first\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 33\n        }\n      }, \"Followers\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"second pl5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 33\n        }\n      }, currentUser.data && followers.length)), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"grid-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"first\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 33\n        }\n      }, \"Following\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"second pl5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 33\n        }\n      }, currentUser.data && following.length)), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"grid-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"first\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 33\n        }\n      }, \"Reviewes given\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"second pl5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 33\n        }\n      }, currentUser.data && currentUser.data.movies_reviewed.length)))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"first-row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"activity\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"avtivity-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 33\n        }\n      }, \"Followers\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"userWatchlist\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        classNam: \"user-reviews\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 33\n        }\n      }, followers.length > 0 ? followers.map(follower => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"styled-border m5 p5\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 53\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: \"/user/\" + follower[0],\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 57\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fa fa-user\",\n          \"aria-hidden\": \"true\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 91\n          }\n        }), \" \", follower[1]));\n      }) : /*#__PURE__*/React.createElement(\"span\", {\n        className: \"second\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 45\n        }\n      }, \"No Followers\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"activity\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"avtivity-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 33\n        }\n      }, \"Following\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"userWatchlist\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        classNam: \"user-reviews\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 33\n        }\n      }, following.length > 0 ? following.map(follower => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"styled-border m5 p5\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 53\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: \"/user/\" + follower[0],\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 57\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fa fa-user\",\n          \"aria-hidden\": \"true\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 91\n          }\n        }), \" \", follower[1]));\n      }) : /*#__PURE__*/React.createElement(\"span\", {\n        className: \"second\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 45\n        }\n      }, \"Not Following any user\"))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"first-row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"activity\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"avtivity-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 33\n        }\n      }, \"Recent activity\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"user-reviews\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 29\n        }\n      }, loading ? /*#__PURE__*/React.createElement(Spinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 41\n        }\n      }) : /*#__PURE__*/React.createElement(React.Fragment, null, userReviews.data.length > 0 ? userReviews.data.map(review => /*#__PURE__*/React.createElement(FeedItem, {\n        review: review,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 49\n        }\n      })) : /*#__PURE__*/React.createElement(\"span\", {\n        className: \"second medium-font pl5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 49\n        }\n      }, \"No Activity\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"activity\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"avtivity-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 33\n        }\n      }, currentUser.data.email == user.email ? \"Watchlist\" : \"Some other Information\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"userWatchlist\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 29\n        }\n      }, currentUser.data.email == user.email ? user.watchlist ? /*#__PURE__*/React.createElement(WatchlistGrid, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 49\n        }\n      }, user.watchlist.map(movie => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            position: \"relative\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 65\n          }\n        }, /*#__PURE__*/React.createElement(MovieThumb, {\n          key: movie.id,\n          image: movie.poster_path ? `${IMAGE_BASE_URL}${POSTER_SIZE}${movie.poster_path}` : NoImage,\n          movieId: movie.id,\n          movieName: movie.original_title,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 69\n          }\n        }), /*#__PURE__*/React.createElement(AddToWatchList, {\n          movieID: movie.id,\n          movieInfo: movie,\n          tick: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 69\n          }\n        }));\n      })) : /*#__PURE__*/React.createElement(\"span\", {\n        className: \"second\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 49\n        }\n      }, \"Wishlist is empty\") : /*#__PURE__*/React.createElement(React.Fragment, null)))));\n    }\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user-page-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/signin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 21\n      }\n    }, \" Signin\")));\n  }\n};\n\nexport default UserPage;","map":{"version":3,"sources":["C:/Users/DELL/Keep Watching/Keep-Watching/client/src/components/pages/UserPage/UserPage.jsx"],"names":["React","useContext","useEffect","useState","useParams","Link","IMAGE_BASE_URL","BACKDROP_SIZE","POSTER_SIZE","SEARCH_BASE_URL","POPULAR_BASE_URL","Spinner","FeedItem","FollowUnfollowButton","Grid","MovieThumb","NoImage","WatchlistGrid","AddToWatchList","AuthContext","useUserReviewFech","useUserinformationFetch","UserPage","props","userID","authContext","isAuthenticated","loadUser","user","userReviews","loading","error","currentUser","userLoading","userError","followers","setFollowers","following","setFollowing","data","console","log","email","username","fname","lname","length","movies_reviewed","map","follower","review","watchlist","movie","position","id","poster_path","original_title"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-vars */\r\nimport React, { useContext, useEffect, useState } from \"react\"\r\nimport { useParams } from \"react-router\";\r\nimport { Link } from \"react-router-dom\"\r\n\r\nimport {\r\n\r\n    IMAGE_BASE_URL, BACKDROP_SIZE,\r\n    POSTER_SIZE, SEARCH_BASE_URL,\r\n    POPULAR_BASE_URL\r\n}\r\n    from \"../../../config\"\r\n\r\n\r\n//   Imporiting all the components\r\nimport Spinner from \"../../components/Spinner/Spinner\"\r\nimport FeedItem from \"../../components/FeedItem/FeedItem.component\"\r\nimport { ReactComponent as EggLogo } from \"../../images/egg.svg\"\r\nimport FollowUnfollowButton from \"../../components/FolllowUnfollowButton/FollowUnfollowButton\"\r\nimport Grid from \"../../components/Grid/Grid\"\r\nimport MovieThumb from \"../../components/MovieThubmnail/MovieThumb\"\r\nimport NoImage from \"../../images/no_image.jpg\"\r\nimport WatchlistGrid from \"../../components/watchlistGrid/watchlistGrid\"\r\nimport AddToWatchList from \"../../components/AddToWatchList/AddToWatchList\"\r\n\r\n// Importing Context \r\nimport AuthContext from \"../../../context/Authentication/authenticationContext\"\r\n// import AlertContext from \"../../../context/AlertContext/AlertContext\"\r\n\r\n\r\n//  Inporting hooks\r\nimport useUserReviewFech from \"../../hooks/useUserReviewsFetch\"\r\nimport useUserinformationFetch from \"../../hooks/useFetchUserInformation\"\r\n\r\n//  Importing styles\r\nimport \"./UserPage.styles.css\"\r\n\r\n\r\nconst UserPage = (props) => {\r\n    const { userID } = useParams()\r\n    const authContext = useContext(AuthContext)\r\n    const { isAuthenticated, loadUser, user } = authContext\r\n\r\n    useEffect(() => {\r\n\r\n        // console.clear()\r\n        loadUser()\r\n        // eslint-disable-next-line\r\n    }, [isAuthenticated])\r\n\r\n    const [userReviews, loading, error] = useUserReviewFech(userID)\r\n    const [currentUser, userLoading, userError] = useUserinformationFetch(userID)\r\n    const [followers, setFollowers] = useState([])\r\n    const [following, setFollowing] = useState([])\r\n    useEffect(() => {\r\n        if (!userLoading) {\r\n\r\n            setFollowers(currentUser.data.followers)\r\n            setFollowing(currentUser.data.following)\r\n        }\r\n    }, [userLoading])\r\n    useEffect(() => {\r\n        console.log(\"Use effect for followers called\")\r\n    }, [followers]);\r\n    if (isAuthenticated) {\r\n        if (userLoading) {\r\n            return (\r\n                <div className=\"user-page-container\">\r\n                    <Spinner />\r\n                </div>\r\n            )\r\n        } else {\r\n            // console.clear()\r\n            // console.log(\"user.followers = <>\", user.following)\r\n            // console.log(\"currrentuser =<> \", currentUser)\r\n            // console.log(\"currentuser.followers =<> \", currentUser.data.followers)\r\n            console.log(\"Followers = \", followers)\r\n            // console.log(\"following = \", following)\r\n            return (\r\n                <div className=\"user-page-container\">\r\n\r\n\r\n                    <div className=\"user-info\">\r\n\r\n\r\n                        <div className=\"displaypic\">\r\n                            <EggLogo />\r\n                            {currentUser.data.email != user.email ? <FollowUnfollowButton user={user} nextUser={currentUser} setFollowing={setFollowing} setFollowers={setFollowers} /> : <></>}\r\n                        </div>\r\n                        <div class=\"grid-container\">\r\n                            <div class=\"grid-item\">\r\n                                <span className=\"first\">\r\n                                    Username\r\n                                </span>\r\n                                <span className=\"second\">\r\n                                    {currentUser.data && currentUser.data.username}\r\n                                </span>\r\n                            </div>\r\n                            <div class=\"grid-item\">\r\n                                <span className=\"first\">\r\n                                    Name\r\n                                </span>\r\n                                <span className=\"second\">\r\n                                    {currentUser.data && currentUser.data.fname} {currentUser && currentUser.lname}\r\n                                </span>\r\n                            </div>\r\n                            <div class=\"grid-item\">\r\n                                <span className=\"first\">\r\n                                    Email\r\n                                </span>\r\n                                <span className=\"second\">\r\n                                    {currentUser.data && currentUser.data.email}\r\n                                </span>\r\n                            </div>\r\n                            <div class=\"grid-item\">\r\n                                <span className=\"first\">\r\n                                    Followers\r\n                                </span>\r\n                                <span className=\"second pl5\">\r\n                                    {currentUser.data && followers.length}\r\n                                </span>\r\n                            </div>\r\n                            <div class=\"grid-item\">\r\n                                <span className=\"first\">\r\n                                    Following\r\n                                </span>\r\n                                <span className=\"second pl5\">\r\n\r\n                                    {currentUser.data && following.length}\r\n                                </span>\r\n                            </div>\r\n                            <div class=\"grid-item\">\r\n                                <span className=\"first\">\r\n                                    Reviewes given\r\n                                </span>\r\n                                <span className=\"second pl5\">\r\n                                    {currentUser.data && currentUser.data.movies_reviewed.length}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"first-row\">\r\n                        <div className=\"activity\">\r\n                            <div className=\"avtivity-title\">\r\n                                <span>\r\n                                    Followers\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"userWatchlist\">\r\n                                <div classNam=\"user-reviews\">\r\n                                    {\r\n                                        followers.length > 0 ?\r\n                                            followers.map(follower => {\r\n                                                return (\r\n                                                    <div className=\"styled-border m5 p5\">\r\n                                                        <Link to={\"/user/\" + follower[0]}><i className=\"fa fa-user\" aria-hidden=\"true\"></i> {follower[1]}</Link>\r\n                                                    </div>\r\n                                                )\r\n                                            })\r\n                                            :\r\n                                            <span className=\"second\">No Followers</span>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"activity\">\r\n                            <div className=\"avtivity-title\">\r\n                                <span>\r\n                                    Following\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"userWatchlist\">\r\n                                <div classNam=\"user-reviews\">\r\n                                    {\r\n                                        following.length > 0 ?\r\n                                            following.map(follower => {\r\n                                                return (\r\n                                                    <div className=\"styled-border m5 p5\">\r\n                                                        <Link to={\"/user/\" + follower[0]}><i className=\"fa fa-user\" aria-hidden=\"true\"></i> {follower[1]}</Link>\r\n                                                    </div>\r\n                                                )\r\n                                            })\r\n                                            :\r\n                                            <span className=\"second\">Not Following any user</span>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"first-row\">\r\n\r\n                        <div className=\"activity\">\r\n                            <div className=\"avtivity-title\">\r\n                                <span>\r\n                                    Recent activity\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"user-reviews\">\r\n                                {\r\n                                    loading ?\r\n                                        <Spinner />\r\n                                        :\r\n                                        <>\r\n                                            {userReviews.data.length > 0 ? userReviews.data.map(review => (\r\n                                                <FeedItem review={review} />\r\n                                            ))\r\n                                                :\r\n                                                <span className=\"second medium-font pl5\">No Activity</span>\r\n\r\n                                            }\r\n                                        </>\r\n                                }\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"activity\">\r\n                            <div className=\"avtivity-title\">\r\n                                <span>\r\n                                    {\r\n                                        currentUser.data.email == user.email ? \"Watchlist\" : \"Some other Information\"\r\n                                    }\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"userWatchlist\">\r\n\r\n                                {\r\n                                    currentUser.data.email == user.email ?\r\n\r\n                                        (\r\n                                            user.watchlist ?\r\n                                                <WatchlistGrid >\r\n                                                    {\r\n                                                        user.watchlist.map(movie => {\r\n                                                            return (\r\n                                                                <div style={{ position: \"relative\" }}>\r\n                                                                    <MovieThumb\r\n                                                                        key={movie.id}\r\n                                                                        image={movie.poster_path ? `${IMAGE_BASE_URL}${POSTER_SIZE}${movie.poster_path}` : NoImage}\r\n                                                                        movieId={movie.id}\r\n                                                                        movieName={movie.original_title}\r\n                                                                    />\r\n                                                                    <AddToWatchList movieID={movie.id} movieInfo={movie} tick={true} />\r\n                                                                </div>\r\n                                                            )\r\n                                                        })\r\n                                                    }\r\n                                                </WatchlistGrid>\r\n                                                :\r\n                                                <span className=\"second\">Wishlist is empty</span>\r\n                                        ) :\r\n                                        <></>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                </div>\r\n            )\r\n        }\r\n    } else {\r\n        return (\r\n            <div className=\"user-page-container\">\r\n                <h1>\r\n                    <Link to=\"/signin\"> Signin</Link>\r\n                </h1>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UserPage"]},"metadata":{},"sourceType":"module"}